<html>
  <head>
    <meta charset="utf-8" />
    <title>êµ¬êµ¬ë‹¨</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      // ë¦¬ì•¡íŠ¸ì—ì„œëŠ” Hooksë¥¼ ë” ì¶”ì²œí•œë‹¤.
      // í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì˜ ë‹¨ì  : stateë¥¼ ë°”ê¾¸ë©´ í•¨ìˆ˜ì „ì²´ê°€ ë Œë”ë§ëœë‹¤.

      // í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì˜ ì¥ì  : ì½”ë“œê°€ ê°„ê²°í•´ì§„ë‹¤.
      const GuGuDan = () => {
        const [first, setFirst] = React.useState(Math.ceil(Math.random() * 9)); 
        const [second, setSecond] = React.useState(Math.ceil(Math.random() * 9));
        const [value, setValue] = React.useState('');
        const [result, setResult] = React.useState('');
        // í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” Hooksì—ì„œëŠ” useStateë¡œ ê°ê°ì˜ stateë“¤ì„ ë¶„ë¦¬í•œë‹¤.
        const inputRef = React.useRef(null);
        // í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§€ì›í•˜ëŠ” Hooksì—ì„œëŠ” useRefë¡œ DOMì— ì ‘ê·¼í•œë‹¤.
        
        // const [state, setState] = React.useState({
        //   first: Math.ceil(Math.random() * 9),
        //   second: Math.ceil(Math.random() * 9),
        //   value: '',
        //   result: '',
        // }) â–¶ï¸ stateë¥¼ í•©ì³ë²„ë¦¬ë©´ setState í•  ë•Œ ì¼ì¼ì´ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.
        // â–² class ì»´í¬ë„ŒíŠ¸ this.setStateì™€ëŠ” ë‹¤ë¥´ê²Œ ì¼ì¼ì´ ë°”ê¿”ì¤˜ì•¼ í•œë‹¤.
         
        const onSubmitForm = (e) => {
          e.preventDefault();
          if(parseInt(value) === first * second) {
            setResult('ì •ë‹µ: ' + value); 
            setFirst(Math.ceil(Math.random() * 9))
            setSecond(Math.ceil(Math.random() * 9))
            setValue('');
            // ğŸŒˆ â–² setStateë¥¼ ëª¨ì•„ì„œ í•œë²ˆì— ì²˜ë¦¬í•´ì„œ ë Œë”ë§ 1ë²ˆ
            // â–² setStateê°€ ë¹„ë™ê¸°ì¸ ì´ìœ   
            inputRef.current.focus(); 
            // UseRefëŠ” current ë¶™ì—¬ì¤˜ì•¼í•œë‹¤.     
          } else {
            setResult('ë•¡');
            setValue('');
            inputRef.current.focus();        
          }
        }

        const onChangeInput = (e) => {
          setValue(e.target.value);
        }

        console.log('ë Œë”ë§'); // stateë¥¼ ë°”ê¾¸ë©´ í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ ì „ì²´ê°€ ë Œë”ë§ëœë‹¤. ê·¸ë˜ì„œ ë¡œë”© ì†ë„ ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.
        return (
          <React.Fragment>
            <div>{first} ê³±í•˜ê¸° {second}ëŠ”?</div>
            <form onSubmit={onSubmitForm}>
              <input ref={inputRef} onChange={onChangeInput} value={value} />  
              <button>ì…ë ¥!</button>
            </form>
            <div id="result">{result}</div>
          </React.Fragment>
        );
      }
    </script>

    <script type="text/babel">
      ReactDOM.render(<GuGuDan/>, document.querySelector('#root'));
    </script>
  </body>
</html>